"use strict";(self["webpackChunkvue2_project"]=self["webpackChunkvue2_project"]||[]).push([[328],{9328:function(e,r,s){s.r(r),s.d(r,{default:function(){return u}});var t=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login-page"},[r("div",{staticClass:"login-box"},[r("h3",{staticClass:"title"},[e._v("欢迎登录")]),r("el-form",{ref:"form",attrs:{model:e.loginForm,rules:e.rules,size:"large"}},[r("el-form-item",{attrs:{label:"",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入账号/手机号/邮箱","prefix-icon":"el-icon-user"},model:{value:e.loginForm.userName,callback:function(r){e.$set(e.loginForm,"userName",r)},expression:"loginForm.userName"}})],1),r("el-form-item",{attrs:{label:"",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",type:"password","prefix-icon":"el-icon-lock"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-button",{staticClass:"row-btn",attrs:{type:"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v("登 录")])],1)],1)],1)])},o=[],i={name:"Login",data(){return{loginForm:{userName:"admin",password:"123456"},rules:{userName:[{required:!0,message:"请输入账号/手机号/邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loading:!1}},created(){},methods:{onSubmit(){this.$refs.form.validate((e=>{e&&this.handleLogin()}))},async handleLogin(){this.loading=!0,this.$store.commit("setLogin",{token:"Token-123456789",userInfo:{name:"admin",avatar:""}}),this.loading=!1,await this.$store.dispatch("getUserMenus");const e=this.$route.query.redirect;e&&"/login"!=e?this.$router.replace(e):this.$router.replace(this.$store.getters.firstMenu)}}},a=i,l=s(1656),n=(0,l.A)(a,t,o,!1,null,"64687921",null),u=n.exports}}]);